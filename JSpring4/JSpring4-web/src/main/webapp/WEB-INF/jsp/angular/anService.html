<html>
	
	<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
	<script type="text/javascript" src="/js/angular.min.js"></script>
		 
	<script type="text/javascript">
		var myApp = angular.module('myApp', []);
		
	
		myApp.service('Math', function () {
		  this.multiply = function (x, y) {
		    return x * y;
		  };
		});
		
		/*
		myApp.controller('MainCtrl', ['$scope', function ($scope) 
		서비스(혹은 팩토리)를 생성할때는 의존성 주입을 사용해서 Angular에게 새로 만든 서비스의 존재를 알려줘야 한다.
		 알려주지 않으면 컴파일 에러가 발생하거나 컨트롤러가 동작하지 않을 것이다.  ==> 'Math' c추가

		 컨트롤러 선언부분에 function ($scope) 를 봤을텐데 이게 바로 간단한 의존성 주입 방법이다. function ($scope) 앞에 있는 [‘$scope’] 도 봤겠지만 이건 나중에 설명하겠다. 
		 다음 예제는 의존성 주입을 통해 Angular에게 서비스가 필요하다고 알려주는 방법이다
		*/	
		myApp.controller('MainCtrl', ['$scope', 'Math', function ($scope, Math) {
		    var a = 12;
		    var b = 24;

		    // 결과는 288
		    var result = Math.multiply(a, b);
		    $scope.text = result;
		}]);
	</script>	

	</head>

	<body >


		<div>
서비스<br><br>

서비스는 종종 헷갈리는 부분이다. 경험에 비춰보면 서비스는 기능적인 큰 차이점을 제공하지 않으면서도 뭔가 더 좋아보이는 디자인 패턴이다. <br>
Angular 소스를 분석해보니 Angular는 같은 컴파일러를 사용하면서 많은 기능을 제공하는듯 하다. <br>
분석해보니 서비스는 싱글톤 으로 사용해야하고 객체 리터럴이나 좀 더 복잡한 유즈 케이스처럼 더 복잡한 기능은 팩토리를 사용해야 한다.<br><br>
		</div>

		<div ng-app="myApp">
			<div ng-controller="MainCtrl">
			{{text}}		
			</div>
		</div>

	</body>


</html>